# Attack Simulation: Malware Beaconing to C2 Server

## ğŸ¯ Objective
Simulate beacon traffic from infected host to fake C2 server to test egress detection.

---

## ğŸ§ª Lab Setup
- **Target**: HP-13 laptop (Windows 11)
- **Beacon Sim**: Invoke-WebRequest to C2 every X seconds
- **C2**: Simulated VPS on `10.0.0.99`

---

## ğŸ› ï¸ Execution
1. PowerShell loop with periodic HTTP request
2. Observe Windows firewall logs
3. Monitor Wazuh netstat and DNS events

---

## ğŸ“ˆ Detection
- Outbound HTTP to non-corporate domain
- DNS resolution to unlisted IP
- Repeated PowerShell traffic patterns

---

## ğŸ“˜ Lessons
- DNS logging is essential
- Egress rules in firewall can block malware
- Wazuh's `netstat` monitoring aids in beacon detection
